<!DOCTYPE html>
<html>
<head>
  <style>

    body {
      margin: 0px;
    }
    .chart rect {
      fill: steelblue;
    }

    .chart text {
      fill: black;
      font: 40px arial;
      text-anchor: end;
    }
    .chart div {
      font: 10px sans-serif;
      background-color: steelblue;
      text-align: right;
      padding: 0px;
      margin: 0px;
      color: white;
      width: 2px;
      float:left;
    }

  </style>
</head>
<body>
  <div class="chart"></div>
  <script src="js/d3.v3.min.js"></script>
  <script src="js/jquery.js"></script>
  <script>

    var width = window.innerWidth ||
    html.clientWidth  ||
    body.clientWidth  ||
    screen.availWidth;

    var height = window.innerHeight ||
    html.clientHeight  ||
    body.clientHeight  ||
    screen.availHeight;


    var x = d3.scale.linear()
    .range([0, width]);

    var chart = d3.select(".chart").attr("width", width);
    chart.attr("height", height);

    var data = [];





    var d = new Date();

    var time = d.getTime()/1000;


    var bar = null;
    var text = null;
    var box = null;


    $(function() {
      d3.csv("http://cdn.yoerik.com/ISS/data.csv", function(newData) {
        data = newData;
        init();
      });
    });

    function x(value) {
      return value*50+10;
    }

    function init() {
      console.log(data);
      chart=chart.selectAll("div").data(data).enter().append("div");


      chart.style("height", function(d) { return d["BuildingComments"]*50+10 + "px"; });
      chart.style("margin-top", function(d) { return (7-d["BuildingComments"])*50+10 + "px"; });


      
      //chart.text(function(d) { return d["BuildingComments"]; });

    }


  </script>
</body>
</html>